<!doctype html>
<html>
<head>
<script src="../../../@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
<script type="module" src="../color.js"></script>
<link rel="import" href="../../vaadin-button/vaadin-button.html">
<script type="module" src="../../../@polymer/polymer/lib/elements/dom-bind.js"></script>


<!-- FIXME(polymer-modulizer):
        These imperative modules that innerHTML your HTML are
        a hacky way to be sure that any mixins in included style
        modules are ready before any elements that reference them are
        instantiated, otherwise the CSS @apply mixin polyfill won't be
        able to expand the underlying CSS custom properties.
        See: https://github.com/Polymer/polymer-modulizer/issues/154
        -->
    <script type="module">
const $_documentContainer = document.createElement('template');

$_documentContainer.innerHTML = `<custom-style>
  <style include="lumo-typography lumo-color"></style>
</custom-style>`;

document.body.appendChild($_documentContainer.content);
</script>
</head>
<body>


<script type="module">
const $_documentContainer = document.createElement('template');

$_documentContainer.innerHTML = `<dom-bind>
  <template>
    <div theme="dark">
      <h1>Dark</h1>
      This can toggle light/dark in all browsers except IE11/EdgeHTML14.
      <br>
      This can also be applied to the HTML element directly.
      <br>
      <vaadin-button on-click="_toggle">Toggle</vaadin-button>
    </div>
    <script>
      window.addEventListener('WebComponentsReady', function() {
        document.querySelector('dom-bind')._toggle = function(e) {
          if (e.target.parentNode.hasAttribute('theme')) {
            e.target.parentNode.removeAttribute('theme');
            e.target.parentNode.querySelector('h1').innerHTML = 'Light';
          } else {
            e.target.parentNode.setAttribute('theme', 'dark');
            e.target.parentNode.querySelector('h1').innerHTML = 'Dark';
          }
        };
      });
    &lt;/script>
  </template>
</dom-bind>`;

document.body.appendChild($_documentContainer.content);
</script>


<script type="module">
const $_documentContainer = document.createElement('template');
$_documentContainer.innerHTML = `<dark-ui theme="dark"></dark-ui>`;
document.body.appendChild($_documentContainer.content);
</script>


<script type="module">
const $_documentContainer = document.createElement('template');

$_documentContainer.innerHTML = `<dom-module id="dark-ui">
  <template>
    <style include="lumo-color-legacy lumo-typography">
      :host {
        display: block;
      }
    </style>

    <h1>Dark</h1>
    This can toggle light/dark in all browsers.
    <br>
    <vaadin-button on-click="_toggle">Toggle</vaadin-button>
  </template>
  <script>
    window.addEventListener('WebComponentsReady', function() {
      class DarkUI extends Polymer.Element {
        static get is() {
          return 'dark-ui';
        }

        _toggle() {
          if (this.hasAttribute('theme')) {
            this.removeAttribute('theme');
            this.root.querySelector('h1').innerHTML = 'Light';
          } else {
            this.setAttribute('theme', 'dark');
            this.root.querySelector('h1').innerHTML = 'Dark';
          }
          this.updateStyles();
        }
      }
      customElements.define(DarkUI.is, DarkUI);
    });
  &lt;/script>
</dom-module>`;

document.body.appendChild($_documentContainer.content);
</script>html>
